<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MyExperiment RDF: http/hts/5.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MyExperiment RDF&#160;<span id="projectnumber">beta</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>http/hts/5.php</h1>  </div>
</div>
<div class="contents">
<a href="5_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00009"></a>00009 ?&gt;
<a name="l00010"></a>00010 &lt;h2&gt;5. FILTER&lt;/h2&gt;
<a name="l00011"></a>00011 &lt;p&gt;The &lt;em&gt;FILTER&lt;/em&gt; clause is used within the curly parenthesis {} as a subclause of the WHERE clause.  As its name suggests, it allows you to filter the results based on certain conditions.  Most commonly you may want to filter on text but you can also filter on numbers and dates.&lt;/p&gt;
<a name="l00012"></a>00012 &lt;h3&gt;5.1. On Text&lt;a name=<span class="stringliteral">&quot;On Text&quot;</span>/&gt;&lt;/h3&gt;
<a name="l00013"></a>00013 &lt;p&gt;An example of a query where you want to filter on text is when you want to find all Taverna workflows (both 1 and 2):&lt;/p&gt;
<a name="l00014"></a>00014 &lt;div class=<span class="stringliteral">&quot;yellow&quot;</span>&gt;&lt;pre&gt;PREFIX dcterms: &amp;lt;http:<span class="comment">//purl.org/dc/terms/&amp;gt;</span>
<a name="l00015"></a>00015 PREFIX mebase: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/base/&amp;gt;</span>
<a name="l00016"></a>00016 PREFIX mecontrib: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/contributions/&amp;gt;</span>
<a name="l00017"></a>00017 PREFIX rdf: &amp;lt;http:<span class="comment">//www.w3.org/1999/02/22-rdf-syntax-ns#&amp;gt;</span>
<a name="l00018"></a>00018 SELECT ?workflow
<a name="l00019"></a>00019 WHERE{
<a name="l00020"></a>00020   ?workflow rdf:type mecontrib:Workflow ;
<a name="l00021"></a>00021     mebase:has-content-type ?ct .
<a name="l00022"></a>00022   ?ct dcterms:title ?ct_title 
<a name="l00023"></a>00023   &lt;b&gt;FILTER regex(?ct_title,<span class="stringliteral">&#39;^taverna&#39;</span>,<span class="charliteral">&#39;i&#39;</span>)&lt;/b&gt;
<a name="l00024"></a>00024 }&lt;/pre&gt;
<a name="l00025"></a>00025 &lt;div style=<span class="stringliteral">&quot;float: right; position: relative; top: -35px; text-align: right;&quot;</span>&gt;[&lt;a href=<span class="stringliteral">&quot;/sparql?query=PREFIX+dcterms%3A+%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Fterms%2F%3E%0D%0APREFIX+mebase%3A+%3Chttp%3A%2F%2Frdf.myexperiment.org%2Fontologies%2Fbase%2F%3E%0D%0APREFIX+mecontrib%3A+%3Chttp%3A%2F%2Frdf.myexperiment.org%2Fontologies%2Fcontributions%2F%3E%0D%0APREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0D%0ASELECT+%3Fworkflow+%3Fct_title%0D%0AWHERE%7B%0D%0A++%3Fworkflow+rdf%3Atype+mecontrib%3AWorkflow+%3B%0D%0A++++mebase%3Ahas-content-type+%3Fct+.%0D%0A++%3Fct+dcterms%3Atitle+%3Fct_title+%0D%0A++FILTER+regex%28%3Fct_title%2C%27%5Etaverna%27%2C%27i%27%29%0D%0A%7D&amp;amp;formatting=HTML Table&quot;</span>&gt;Run&lt;/a&gt;]&lt;br/&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results1_show&quot;</span> onclick=<span class="stringliteral">&quot;showResults(&#39;results1&#39;);&quot;</span> style=<span class="stringliteral">&quot;display: none;&quot;</span>&gt;[&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;link&quot;</span>&gt;Show&amp;nbsp;Example&amp;nbsp;Results&lt;/span&gt;]&lt;/span&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results1_hide&quot;</span> onclick=<span class="stringliteral">&quot;hideResults(&#39;results1&#39;);&quot;</span>&gt;[&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;link&quot;</span>&gt;Hide&amp;nbsp;Example&amp;nbsp;Results&lt;/span&gt;]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
<a name="l00026"></a>00026 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;green&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results1&quot;</span>&gt;
<a name="l00027"></a>00027 &lt;table <span class="keyword">class</span>=<span class="stringliteral">&quot;listing&quot;</span>&gt;
<a name="l00028"></a>00028   &lt;tr&gt;&lt;th&gt;workflow&lt;/th&gt;&lt;th&gt;ct_title&lt;/th&gt;&lt;/tr&gt;
<a name="l00029"></a>00029   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/167&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00030"></a>00030   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/932&lt;/td&gt;&lt;td&gt;Taverna 2 beta&lt;/td&gt;&lt;/tr&gt;
<a name="l00031"></a>00031   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/193&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00032"></a>00032   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/874&lt;/td&gt;&lt;td&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00033"></a>00033   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/519&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00034"></a>00034   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/545&lt;/td&gt;&lt;td&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00035"></a>00035 &lt;/table&gt;
<a name="l00036"></a>00036 &lt;/div&gt;
<a name="l00037"></a>00037 &lt;p style=<span class="stringliteral">&quot;clear: both;&quot;</span>&gt;The &lt;em&gt;regex&lt;/em&gt; operand allows you to compare two text strings.  In the example above <span class="keyword">this</span> compares the value of ?ct_title with the text <span class="keywordtype">string</span> <span class="stringliteral">&#39;taverna&#39;</span>.  The caret (^) sign is used to indicate that the <span class="keywordtype">string</span> for ?ct_title must start with &#39;taverna&#39;, not just have it somewhere within the <span class="keywordtype">string</span>.  The &#39;i&#39; as the third parameter for the regex operand means that the regular expression is case insentive, if you wish it to be case sensitive only the first two parameters are required.&lt;/p&gt; 
<a name="l00038"></a>00038 &lt;p&gt;Sometimes you may want to pattern match to a variable that is a URI rather than a literal to do this you need to use the &lt;em&gt;str&lt;/em&gt; operand to convert the URI into a <span class="keywordtype">string</span>.  An example of this may be to find all the accepted membership where a group asked a user to join:&lt;/p&gt;
<a name="l00039"></a>00039 &lt;div class=&quot;yellow&quot;&gt;&lt;pre&gt;PREFIX mebase: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/base/&amp;gt;</span>
<a name="l00040"></a>00040 PREFIX rdf: &amp;lt;http:<span class="comment">//www.w3.org/1999/02/22-rdf-syntax-ns#&amp;gt;</span>
<a name="l00041"></a>00041 SELECT ?membership ?requester
<a name="l00042"></a>00042 WHERE{
<a name="l00043"></a>00043   ?membership rdf:type mebase:Membership ;
<a name="l00044"></a>00044     mebase:has-requester ?requester ;
<a name="l00045"></a>00045     mebase:has-accepter ?accepter ;
<a name="l00046"></a>00046     mebase:accepted-at ?accepted_at
<a name="l00047"></a>00047   FILTER regex(&lt;b&gt;str(?requester)&lt;/b&gt;,<span class="stringliteral">&#39;Group&#39;</span>,<span class="charliteral">&#39;i&#39;</span>)
<a name="l00048"></a>00048 }&lt;/pre&gt;
<a name="l00049"></a>00049 &lt;div style=<span class="stringliteral">&quot;float: right; position: relative; top: -35px; text-align: right;&quot;</span>&gt;[&lt;a href=<span class="stringliteral">&quot;/sparql?query=PREFIX+mebase%3A+%3Chttp%3A%2F%2Frdf.myexperiment.org%2Fontologies%2Fbase%2F%3E%0D%0APREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0D%0ASELECT+%3Fmembership+%3Frequester%0D%0AWHERE%7B%0D%0A++%3Fmembership+rdf%3Atype+mebase%3AMembership+%3B%0D%0A++++mebase%3Ahas-requester+%3Frequester+%3B%0D%0A++++mebase%3Ahas-accepter+%3Faccepter+%3B%0D%0A++++mebase%3Aaccepted-at+%3Faccepted_at%0D%0A++FILTER+regex%28str%28%3Frequester%29%2C%27Group%27%2C%27i%27%29%0D%0A%7D&amp;amp;formatting=HTML Table&quot;</span>&gt;Run&lt;/a&gt;]&lt;br/&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results2_show&quot;</span> onclick=<span class="stringliteral">&quot;showResults(&#39;results2&#39;);&quot;</span> style=<span class="stringliteral">&quot;display: none;&quot;</span>&gt;[&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;link&quot;</span>&gt;Show&amp;nbsp;Example&amp;nbsp;Results&lt;/span&gt;]&lt;/span&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results2_hide&quot;</span> onclick=<span class="stringliteral">&quot;hideResults(&#39;results2&#39;);&quot;</span>&gt;[&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;link&quot;</span>&gt;Hide&amp;nbsp;Example&amp;nbsp;Results&lt;/span&gt;]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
<a name="l00050"></a>00050 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;green&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results2&quot;</span>&gt;
<a name="l00051"></a>00051 &lt;table <span class="keyword">class</span>=<span class="stringliteral">&quot;listing&quot;</span>&gt;
<a name="l00052"></a>00052 &lt;tr&gt;&lt;th&gt;membership&lt;/th&gt;&lt;th&gt;requester&lt;/th&gt;&lt;/tr&gt;
<a name="l00053"></a>00053   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;users/30/memberships/96&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;groups/51&lt;/td&gt;&lt;/tr&gt;
<a name="l00054"></a>00054   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;users/2646/memberships/825&lt;/td&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;groups/195&lt;/td&gt;&lt;/tr&gt;
<a name="l00055"></a>00055   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;users/2213/memberships/884&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;groups/211&lt;/td&gt;&lt;/tr&gt;
<a name="l00056"></a>00056   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;users/2611/memberships/745&lt;/td&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;groups/187&lt;/td&gt;&lt;/tr&gt;
<a name="l00057"></a>00057   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;users/13/memberships/721&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;groups/194&lt;/td&gt;&lt;/tr&gt;
<a name="l00058"></a>00058 &lt;/table&gt;
<a name="l00059"></a>00059 &lt;/div&gt;
<a name="l00060"></a>00060 &lt;h3&gt;5.2. On Numbers&lt;a name=<span class="stringliteral">&quot;On Numbers&quot;</span>/&gt;&lt;/h3&gt;
<a name="l00061"></a>00061 &lt;p&gt;In some cases you may want to query on a number being greater (or less than) a particular value.  The FILTER clause allows inequalities (and equalities) to be defined as criteria <span class="keywordflow">for</span> filtering on.  An example of <span class="keyword">this</span> may be to find all the workflows that have a rating that is 4 or greater:&lt;/p&gt;
<a name="l00062"></a>00062 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;yellow&quot;</span>&gt;&lt;pre&gt;PREFIX dcterms: &amp;lt;http:<span class="comment">//purl.org/dc/terms/&amp;gt;</span>
<a name="l00063"></a>00063 PREFIX mebase: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/base/&amp;gt;</span>
<a name="l00064"></a>00064 PREFIX meannot: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/annotations/&amp;gt;</span>
<a name="l00065"></a>00065 PREFIX mecontrib: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/contributions/&amp;gt;</span>
<a name="l00066"></a>00066 PREFIX rdf: &amp;lt;http:<span class="comment">//www.w3.org/1999/02/22-rdf-syntax-ns#&amp;gt;</span>
<a name="l00067"></a>00067 SELECT DISTINCT ?workflow ?ct_title
<a name="l00068"></a>00068 WHERE{
<a name="l00069"></a>00069   ?workflow rdf:type mecontrib:Workflow ;
<a name="l00070"></a>00070     mebase:has-content-type ?ct .
<a name="l00071"></a>00071   ?ct dcterms:title ?ct_title .
<a name="l00072"></a>00072   ?rating rdf:type meannot:Rating ;
<a name="l00073"></a>00073     mebase:annotates ?workflow ;
<a name="l00074"></a>00074     meannot:rating-score ?score 
<a name="l00075"></a>00075   &lt;b&gt;FILTER (?score &amp;gt;= 4)&lt;/b&gt;
<a name="l00076"></a>00076 }&lt;/pre&gt;
<a name="l00077"></a>00077 &lt;div style=<span class="stringliteral">&quot;float: right; position: relative; top: -35px; text-align: right;&quot;</span>&gt;[&lt;a href=<span class="stringliteral">&quot;/sparql?query=PREFIX+dcterms%3A+%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Fterms%2F%3E%0D%0APREFIX+mebase%3A+%3Chttp%3A%2F%2Frdf.myexperiment.org%2Fontologies%2Fbase%2F%3E%0D%0APREFIX+meannot%3A+%3Chttp%3A%2F%2Frdf.myexperiment.org%2Fontologies%2Fannotations%2F%3E%0D%0APREFIX+mecontrib%3A+%3Chttp%3A%2F%2Frdf.myexperiment.org%2Fontologies%2Fcontributions%2F%3E%0D%0APREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0D%0ASELECT+DISTINCT+%3Fworkflow+%3Fct_title%0D%0AWHERE%7B%0D%0A++%3Fworkflow+rdf%3Atype+mecontrib%3AWorkflow+%3B%0D%0A++++mebase%3Ahas-content-type+%3Fct+.%0D%0A++%3Fct+dcterms%3Atitle+%3Fct_title+.%0D%0A++%3Frating+rdf%3Atype+meannot%3ARating+%3B%0D%0A++++mebase%3Aannotates+%3Fworkflow+%3B%0D%0A++++meannot%3Arating-score+%3Fscore%0D%0A++FILTER+%28%3Fscore+%3E%3D+4%29%0D%0A%7D&amp;amp;formatting=HTML Table&quot;</span>&gt;Run&lt;/a&gt;]&lt;br/&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results3_show&quot;</span> onclick=<span class="stringliteral">&quot;showResults(&#39;results3&#39;);&quot;</span> style=<span class="stringliteral">&quot;display: none;&quot;</span>&gt;[&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;link&quot;</span>&gt;Show&amp;nbsp;Example&amp;nbsp;Results&lt;/span&gt;]&lt;/span&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results3_hide&quot;</span> onclick=<span class="stringliteral">&quot;hideResults(&#39;results3&#39;);&quot;</span>&gt;[&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;link&quot;</span>&gt;Hide&amp;nbsp;Example&amp;nbsp;Results&lt;/span&gt;]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
<a name="l00078"></a>00078 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;green&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results3&quot;</span>&gt;
<a name="l00079"></a>00079 &lt;table <span class="keyword">class</span>=<span class="stringliteral">&quot;listing&quot;</span>&gt;
<a name="l00080"></a>00080   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/244&lt;/td&gt;&lt;td&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00081"></a>00081   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/742&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;SimileXMLv3&lt;/td&gt;&lt;/tr&gt;
<a name="l00082"></a>00082   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/19&lt;/td&gt;&lt;td&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00083"></a>00083   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/133&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00084"></a>00084   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/735&lt;/td&gt;&lt;td&gt;Excel 2007 Macro-Enabled Workbook&lt;/td&gt;&lt;/tr&gt;
<a name="l00085"></a>00085   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/90&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00086"></a>00086   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/549&lt;/td&gt;&lt;td&gt;Chemistry Plan&lt;/td&gt;&lt;/tr&gt;
<a name="l00087"></a>00087 &lt;/table&gt;
<a name="l00088"></a>00088 &lt;/div&gt;
<a name="l00089"></a>00089 &lt;p style=<span class="stringliteral">&quot;clear: both;&quot;</span>&gt;
<a name="l00090"></a>00090 You may want to filter on more than one criteria.  For the above example you may only want Taverna 1 workflows that are rated at least 4 out of 5:&lt;/p&gt;
<a name="l00091"></a>00091 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;yellow&quot;</span>&gt;&lt;pre&gt;PREFIX dcterms: &amp;lt;http:<span class="comment">//purl.org/dc/terms/&amp;gt;</span>
<a name="l00092"></a>00092 PREFIX mebase: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/base/&amp;gt;</span>
<a name="l00093"></a>00093 PREFIX meannot: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/annotations/&amp;gt;</span>
<a name="l00094"></a>00094 PREFIX mecontrib: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/contributions/&amp;gt;</span>
<a name="l00095"></a>00095 PREFIX rdf: &amp;lt;http:<span class="comment">//www.w3.org/1999/02/22-rdf-syntax-ns#&amp;gt;</span>
<a name="l00096"></a>00096 SELECT DISTINCT ?workflow ?ct_title
<a name="l00097"></a>00097 WHERE{
<a name="l00098"></a>00098   ?workflow rdf:type mecontrib:Workflow ;
<a name="l00099"></a>00099     mebase:has-content-type ?ct .
<a name="l00100"></a>00100   ?ct dcterms:title ?ct_title .
<a name="l00101"></a>00101   ?rating rdf:type meannot:Rating ;
<a name="l00102"></a>00102     mebase:annotates ?workflow ;
<a name="l00103"></a>00103     meannot:rating-score ?score
<a name="l00104"></a>00104   FILTER (?score &amp;gt;= 4 &lt;b&gt;&amp;amp;&amp;amp; regex(?ct_title,<span class="stringliteral">&#39;^Taverna 1&#39;</span>)&lt;/b&gt;)
<a name="l00105"></a>00105 }&lt;/pre&gt;
<a name="l00106"></a>00106 &lt;div style=<span class="stringliteral">&quot;float: right; position: relative; top: -35px; text-align: right;&quot;</span>&gt;[&lt;a href=<span class="stringliteral">&quot;/sparql?query=PREFIX+dcterms%3A+%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Fterms%2F%3E%0D%0APREFIX+mebase%3A+%3Chttp%3A%2F%2Frdf.myexperiment.org%2Fontologies%2Fbase%2F%3E%0D%0APREFIX+meannot%3A+%3Chttp%3A%2F%2Frdf.myexperiment.org%2Fontologies%2Fannotations%2F%3E%0D%0APREFIX+mecontrib%3A+%3Chttp%3A%2F%2Frdf.myexperiment.org%2Fontologies%2Fcontributions%2F%3E%0D%0APREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0D%0ASELECT+DISTINCT+%3Fworkflow+%3Fct_title%0D%0AWHERE%7B%0D%0A++%3Fworkflow+rdf%3Atype+mecontrib%3AWorkflow+%3B%0D%0A++++mebase%3Ahas-content-type+%3Fct+.%0D%0A++%3Fct+dcterms%3Atitle+%3Fct_title+.%0D%0A++%3Frating+rdf%3Atype+meannot%3ARating+%3B%0D%0A++++mebase%3Aannotates+%3Fworkflow+%3B%0D%0A++++meannot%3Arating-score+%3Fscore%0D%0A++FILTER+%28%3Fscore+%3E%3D+4+%26%26+regex%28%3Fct_title%2C%27%5ETaverna+1%27%29%29%0D%0A%7D&amp;amp;formatting=HTML Table&quot;</span>&gt;Run&lt;/a&gt;]&lt;br/&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results4_show&quot;</span> onclick=<span class="stringliteral">&quot;showResults(&#39;results4&#39;);&quot;</span> style=<span class="stringliteral">&quot;display: none;&quot;</span>&gt;[&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;link&quot;</span>&gt;Show&amp;nbsp;Example&amp;nbsp;Results&lt;/span&gt;]&lt;/span&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results4_hide&quot;</span> onclick=<span class="stringliteral">&quot;hideResults(&#39;results4&#39;);&quot;</span>&gt;[&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;link&quot;</span>&gt;Hide&amp;nbsp;Example&amp;nbsp;Results&lt;/span&gt;]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
<a name="l00107"></a>00107 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;green&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results4&quot;</span>&gt;
<a name="l00108"></a>00108 &lt;table <span class="keyword">class</span>=<span class="stringliteral">&quot;listing&quot;</span>&gt;
<a name="l00109"></a>00109   &lt;tr&gt;&lt;th&gt;workflow&lt;/th&gt;&lt;th&gt;ct_title&lt;/th&gt;&lt;/tr&gt;
<a name="l00110"></a>00110   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/173&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00111"></a>00111   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/40&lt;/td&gt;&lt;td&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00112"></a>00112   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/66&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00113"></a>00113   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/235&lt;/td&gt;&lt;td&gt;Taverna 1&lt;/td&gt;&lt;/tr&gt;
<a name="l00114"></a>00114 &lt;/table&gt;
<a name="l00115"></a>00115 &lt;/div&gt;
<a name="l00116"></a>00116 &lt;h3&gt;5.3. On Dates&lt;a name=<span class="stringliteral">&quot;On Dates&quot;</span>/&gt;&lt;/h3&gt;
<a name="l00117"></a>00117 &lt;p&gt;Often one of the most useful filters is <span class="keywordflow">for</span> finding things that have been added/modified before or after a certain date.  You may want to find all the workflows that have been added since the beginning of September 2009:&lt;/p&gt;
<a name="l00118"></a>00118 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;yellow&quot;</span>&gt;&lt;pre&gt;PREFIX mecontrib: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/contributions/&amp;gt;</span>
<a name="l00119"></a>00119 PREFIX dcterms: &amp;lt;http:<span class="comment">//purl.org/dc/terms/&amp;gt;</span>
<a name="l00120"></a>00120 PREFIX rdf: &amp;lt;http:<span class="comment">//www.w3.org/1999/02/22-rdf-syntax-ns#&amp;gt;</span>
<a name="l00121"></a>00121 PREFIX xsd: &amp;lt;http:<span class="comment">//www.w3.org/2001/XMLSchema#&amp;gt;</span>
<a name="l00122"></a>00122 SELECT ?workflow ?added
<a name="l00123"></a>00123 WHERE { 
<a name="l00124"></a>00124   ?workflow rdf:type mecontrib:Workflow ;
<a name="l00125"></a>00125     dcterms:created ?added
<a name="l00126"></a>00126   &lt;b&gt;FILTER ( ?added &amp;gt;= xsd:dateTime(<span class="stringliteral">&#39;2009-09-01T00:00:00Z&#39;</span>) )&lt;/b&gt;
<a name="l00127"></a>00127 }&lt;/pre&gt;
<a name="l00128"></a>00128 &lt;div style=<span class="stringliteral">&quot;float: right; position: relative; top: -35px; text-align: right;&quot;</span>&gt;[&lt;a href=<span class="stringliteral">&quot;/sparql?query=PREFIX+mecontrib%3A+%3Chttp%3A%2F%2Frdf.myexperiment.org%2Fontologies%2Fcontributions%2F%3E%0D%0APREFIX+dcterms%3A+%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Fterms%2F%3E%0D%0APREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0D%0APREFIX+xsd%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%23%3E%0D%0ASELECT+%3Fworkflow+%3Fadded%0D%0AWHERE+%7B+%0D%0A++%3Fworkflow+rdf%3Atype+mecontrib%3AWorkflow+%3B%0D%0A++++dcterms%3Acreated+%3Fadded%0D%0A++FILTER+%28+%3Fadded+%3E%3D+xsd%3AdateTime%28%272009-09-01T00%3A00%3A00Z%27%29+%29+%0D%0A%7D&amp;amp;formatting=HTML Table&quot;</span>&gt;Run&lt;/a&gt;]&lt;br/&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results5_show&quot;</span> onclick=<span class="stringliteral">&quot;showResults(&#39;results5&#39;);&quot;</span> style=<span class="stringliteral">&quot;display: none;&quot;</span>&gt;[&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;link&quot;</span>&gt;Show&amp;nbsp;Example&amp;nbsp;Results&lt;/span&gt;]&lt;/span&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results5_hide&quot;</span> onclick=<span class="stringliteral">&quot;hideResults(&#39;results5&#39;);&quot;</span>&gt;[&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;link&quot;</span>&gt;Hide&amp;nbsp;Example&amp;nbsp;Results&lt;/span&gt;]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
<a name="l00129"></a>00129 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;green&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;results5&quot;</span>&gt;
<a name="l00130"></a>00130 &lt;table <span class="keyword">class</span>=<span class="stringliteral">&quot;listing&quot;</span>&gt;
<a name="l00131"></a>00131   &lt;tr&gt;&lt;th&gt;workflow&lt;/th&gt;&lt;th&gt;added&lt;/th&gt;&lt;/tr&gt;
<a name="l00132"></a>00132   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/932&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;2009-10-20T17:00:59Z&lt;/td&gt;&lt;/tr&gt;
<a name="l00133"></a>00133   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/952&lt;/td&gt;&lt;td&gt;2009-11-16T12:37:25Z&lt;/td&gt;&lt;/tr&gt;
<a name="l00134"></a>00134   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/906&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;2009-09-08T15:12:57Z&lt;/td&gt;&lt;/tr&gt;
<a name="l00135"></a>00135   &lt;tr&gt;&lt;td&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/955&lt;/td&gt;&lt;td&gt;2009-11-16T18:10:54Z&lt;/td&gt;&lt;/tr&gt;
<a name="l00136"></a>00136   &lt;tr&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;&lt;?= <a class="code" href="defaultsettings_8inc_8php.html#af3977e6112188cd0722cdde838f04c9d" title="A string specifying the base URI for any myExperiment RDF entities that are generated. (E.g. http://www.myexperiment.org/).">$datauri</a> ?&gt;workflows/912&lt;/td&gt;&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;shade&quot;</span>&gt;2009-09-15T11:32:52Z&lt;/td&gt;&lt;/tr&gt;
<a name="l00137"></a>00137 &lt;/table&gt;
<a name="l00138"></a>00138 &lt;/div&gt;
<a name="l00139"></a>00139 &lt;script type= <span class="stringliteral">&quot;text/javascript&quot;</span>&gt;&lt;!-- 
<a name="l00140"></a>00140   hideResults(<span class="stringliteral">&#39;results1&#39;</span>);
<a name="l00141"></a>00141   hideResults(<span class="stringliteral">&#39;results2&#39;</span>);
<a name="l00142"></a>00142   hideResults(<span class="stringliteral">&#39;results3&#39;</span>);
<a name="l00143"></a>00143   hideResults(<span class="stringliteral">&#39;results4&#39;</span>);
<a name="l00144"></a>00144   hideResults(<span class="stringliteral">&#39;results5&#39;</span>);
<a name="l00145"></a>00145 --&gt;&lt;/script&gt;
<a name="l00146"></a>00146 
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Apr 23 2013 for MyExperiment RDF by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
