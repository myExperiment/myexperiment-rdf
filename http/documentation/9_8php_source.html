<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MyExperiment RDF: http/hts/9.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MyExperiment RDF&#160;<span id="projectnumber">beta</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>http/hts/9.php</h1>  </div>
</div>
<div class="contents">
<a href="9_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00009"></a>00009 ?&gt;
<a name="l00010"></a>00010 &lt;h2&gt;9. Troubleshooting&lt;/h2&gt;
<a name="l00011"></a>00011 &lt;p&gt;When trying to execute a query you may <span class="keyword">get</span> one or more warning/error messages.  If you are <span class="keyword">using</span> the query form with &lt;em&gt;HTML Table&lt;/em&gt; results these messages will be shown in a red box just above the query text box. E.g.&lt;/p&gt;
<a name="l00012"></a>00012 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;red&quot;</span> style=<span class="stringliteral">&quot;text-align: center;&quot;</span>&gt;&lt;b&gt; parser warning: Variable q was selected but is unused in the query. at line 1 &lt;/b&gt;&lt;/div&gt;
<a name="l00013"></a>00013 &lt;br/&gt;
<a name="l00014"></a>00014 &lt;p&gt;If you request raw SPARQL results XML these messages will appear as within a comment tag &lt;code&gt;&lt;small&gt;&amp;lt;!-- --&amp;gt;&lt;/small&gt;&lt;/code&gt; in the XML itself.  Usually between the &lt;em&gt;head&lt;/em&gt; and &lt;em&gt;results&lt;/em&gt; tags.&lt;/p&gt;
<a name="l00015"></a>00015 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;yellow&quot;</span>&gt;&lt;pre&gt;&amp;lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span>?&amp;gt;
<a name="l00016"></a>00016 &amp;lt;sparql xmlns=<span class="stringliteral">&quot;http://www.w3.org/2005/sparql-results#&quot;</span>&amp;gt;
<a name="l00017"></a>00017   &amp;lt;head&amp;gt;
<a name="l00018"></a>00018     &amp;lt;variable name=<span class="stringliteral">&quot;q&quot;</span>/&amp;gt;
<a name="l00019"></a>00019   &amp;lt;/head&amp;gt;
<a name="l00020"></a>00020 &lt;b&gt;&amp;lt;!-- parser warning: Variable q was selected but is unused in the query. at line 1 --&amp;gt;&lt;/b&gt;
<a name="l00021"></a>00021   &amp;lt;results&amp;gt;
<a name="l00022"></a>00022   &amp;lt;/results&amp;gt;
<a name="l00023"></a>00023 &amp;lt;/sparql&amp;gt;&lt;/pre&gt;&lt;/div&gt;
<a name="l00024"></a>00024 &lt;br/&gt;
<a name="l00025"></a>00025 &lt;p&gt;Generally these messages are fairly <span class="keyword">self</span> explanatory but here are some tips <span class="keywordflow">for</span> how you might go about resolving them.&lt;/p&gt;
<a name="l00026"></a>00026 &lt;h3&gt;&lt;a name=<span class="stringliteral">&quot;Syntax Errors&quot;</span>/&gt;8.1. Syntax Errors&lt;/h3&gt;
<a name="l00027"></a>00027 &lt;p&gt;Error messages are generally syntactical errors in the query itself.  Commonly <span class="keyword">this</span> is because the the clauses have not be defined in the right order.  Thtype of error message you receive may look something like <span class="keyword">this</span>:&lt;/p&gt;
<a name="l00028"></a>00028 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;red&quot;</span> style=<span class="stringliteral">&quot;text-align: center;&quot;</span>&gt;&lt;b&gt; parser error: syntax error, unexpected WHERE, expecting AS at line 6 &lt;/b&gt;&lt;/div&gt;
<a name="l00029"></a>00029 &lt;br/&gt;
<a name="l00030"></a>00030 &lt;p&gt;Below is a rough guide <span class="keywordflow">for</span> how the clauses that have been described in <span class="keyword">this</span> tutorial should be ordered. (Other ordering may work):
<a name="l00031"></a>00031 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;yellow&quot;</span>&gt;&lt;pre&gt;BASE
<a name="l00032"></a>00032 PREFIX
<a name="l00033"></a>00033 SELECT 
<a name="l00034"></a>00034 WHERE {
<a name="l00035"></a>00035   UNION / OPTIONAL
<a name="l00036"></a>00036   FILTER 
<a name="l00037"></a>00037 }
<a name="l00038"></a>00038 GROUP BY
<a name="l00039"></a>00039 ORDER BY
<a name="l00040"></a>00040 LIMIT
<a name="l00041"></a>00041 OFFSET&lt;/pre&gt;&lt;/div&gt;
<a name="l00042"></a>00042 &lt;p&gt;A second common syntactical error is to fail to put a dot between triples in the WHERE clause.  This is why it is often good practice to start a <span class="keyword">new</span> line <span class="keywordflow">for each</span> triple and ident appropriately when <span class="keyword">using</span> the semi-colon (;) <span class="keyword">operator</span>. E.g.&lt;/p&gt;
<a name="l00043"></a>00043 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;yellow&quot;</span>&gt;&lt;pre&gt;PREFIX dcterms: &amp;lt;http:<span class="comment">//purl.org/dc/terms/&amp;gt;</span>
<a name="l00044"></a>00044 PREFIX mebase: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/base/&amp;gt;</span>
<a name="l00045"></a>00045 PREFIX meannot: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/annotations/&amp;gt;</span>
<a name="l00046"></a>00046 PREFIX mecontrib: &amp;lt;http:<span class="comment">//rdf.myexperiment.org/ontologies/contributions/&amp;gt;</span>
<a name="l00047"></a>00047 PREFIX rdf: &amp;lt;http:<span class="comment">//www.w3.org/1999/02/22-rdf-syntax-ns#&amp;gt;</span>
<a name="l00048"></a>00048 SELECT DISTINCT ?workflow ?ct_title
<a name="l00049"></a>00049 WHERE{
<a name="l00050"></a>00050   ?workflow rdf:type mecontrib:Workflow ;
<a name="l00051"></a>00051     mebase:has-content-type ?ct .
<a name="l00052"></a>00052   ?ct dcterms:title ?ct_title .
<a name="l00053"></a>00053   ?rating rdf:type meannot:Rating ;
<a name="l00054"></a>00054     mebase:annotates ?workflow ;
<a name="l00055"></a>00055     meannot:rating-score ?score
<a name="l00056"></a>00056   FILTER (?score &amp;gt;= 4)
<a name="l00057"></a>00057 }&lt;/pre&gt;
<a name="l00058"></a>00058 &lt;/div&gt;
<a name="l00059"></a>00059 &lt;p&gt;SPARQL queries often use several levels of parentheses either curly parentheses {} in WHERE, OPTIONAL and UNION clauses or round parentheses () in FILTER clauses.  If you get an error message like the one below you should check that all your parentheses pair up.
<a name="l00060"></a>00060 &lt;div class=&quot;red&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt; parser error: syntax error, unexpected $end, expecting &#39;}&#39; at line 11 &lt;/b&gt;&lt;/div&gt;
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 &lt;h3&gt;&lt;a name=&quot;Complexity Warnings&quot;/&gt;8.2. Complexity Warnings&lt;/h3&gt;
<a name="l00063"></a>00063 &lt;p&gt;If you run a query that is fairly complex (e.g. lots of triples, many OPTIONAL / UNION clauses, complicated FILTER clauses, etc.) and is expected to return quite a lot of results, you may receive a complexity warning message like the one below:&lt;/p&gt;
<a name="l00064"></a>00064 &lt;div class=&quot;red&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt; warning: hit complexity limit 8 times, increasing soft limit may give more results &lt;/b&gt;&lt;/div&gt;
<a name="l00065"></a>00065 &lt;p&gt;Usually you will receive a number of results but the query engine cannot guarantee it has returned all of them.  This can usually be resolved by increasing the Soft Limit to 5%, 10%, 20%, etc. until you cease to get this warning message.  Sometimes you may receive a complexity warning because there is a semantic error in your query, such as typo for one of your variable names which means your triples don&#39;t link together in the way you intended.&lt;/p&gt;
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 &lt;h3&gt;&lt;a name=&quot;Parser Warnings&quot;/&gt;8.3. Parser Warnings&lt;/h3&gt;
<a name="l00068"></a>00068 &lt;p&gt;Parser warnings like the one shown at the top of this page, mean that the query was syntactically correct and able to execute but there may be some mistake in your query causing you not to get the results you expected.  The error message below is a classic example of where a variable name in the SELECT clause does not match up with a variable in the WHERE clause:&lt;/p&gt;
<a name="l00069"></a>00069 &lt;div class=&quot;red&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt; parser warning: Variable nmae was selected but is unused in the query. at line 1 &lt;/b&gt;&lt;/div&gt;
<a name="l00070"></a>00070 &lt;br/&gt;&lt;br/&gt;
<a name="l00071"></a>00071 &lt;script type= &quot;text/javascript&quot;&gt;&lt;!-- --&gt;&lt;/script&gt;
<a name="l00072"></a>00072 
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Apr 10 2013 for MyExperiment RDF by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
